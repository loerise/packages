import{useState as t,useCallback as n,useEffect as e,useRef as r}from"react";const u=e=>{const[r,u]=t(Boolean(e)),a=n((()=>u(!0)),[]),i=n((()=>u(!1)),[]),c=n((()=>u((t=>!t))),[]);return{value:r,setValue:u,setTrue:a,setFalse:i,toggle:c}},a=(n,r=300)=>{const[u,a]=t(n);return e((()=>{const t=setTimeout((()=>a(n)),r);return()=>clearTimeout(t)}),[n,r]),u};function i(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function c(t){return function n(e){return 0===arguments.length||i(e)?n:t.apply(this,arguments)}}function o(t){return function n(e,r){switch(arguments.length){case 0:return n;case 1:return i(e)?n:c((function(n){return t(e,n)}));default:return i(e)&&i(r)?n:i(e)?c((function(n){return t(n,r)})):i(r)?c((function(n){return t(e,n)})):t(e,r)}}}function s(t,n){var e;n=n||[];var r=(t=t||[]).length,u=n.length,a=[];for(e=0;e<r;)a[a.length]=t[e],e+=1;for(e=0;e<u;)a[a.length]=n[e],e+=1;return a}function f(t,n){switch(t){case 0:return function(){return n.apply(this,arguments)};case 1:return function(t){return n.apply(this,arguments)};case 2:return function(t,e){return n.apply(this,arguments)};case 3:return function(t,e,r){return n.apply(this,arguments)};case 4:return function(t,e,r,u){return n.apply(this,arguments)};case 5:return function(t,e,r,u,a){return n.apply(this,arguments)};case 6:return function(t,e,r,u,a,i){return n.apply(this,arguments)};case 7:return function(t,e,r,u,a,i,c){return n.apply(this,arguments)};case 8:return function(t,e,r,u,a,i,c,o){return n.apply(this,arguments)};case 9:return function(t,e,r,u,a,i,c,o,s){return n.apply(this,arguments)};case 10:return function(t,e,r,u,a,i,c,o,s,f){return n.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function l(t,n,e){return function(){for(var r=[],u=0,a=t,c=0;c<n.length||u<arguments.length;){var o;c<n.length&&(!i(n[c])||u>=arguments.length)?o=n[c]:(o=arguments[u],u+=1),r[c]=o,i(o)||(a-=1),c+=1}return a<=0?e.apply(this,r):f(a,l(t,r,e))}}var p=o((function(t,n){return 1===t?c(n):f(t,l(t,[],n))}));function y(t){return function n(e,r,u){switch(arguments.length){case 0:return n;case 1:return i(e)?n:o((function(n,r){return t(e,n,r)}));case 2:return i(e)&&i(r)?n:i(e)?o((function(n,e){return t(n,r,e)})):i(r)?o((function(n,r){return t(e,n,r)})):c((function(n){return t(e,r,n)}));default:return i(e)&&i(r)&&i(u)?n:i(e)&&i(r)?o((function(n,e){return t(n,e,u)})):i(e)&&i(u)?o((function(n,e){return t(n,r,e)})):i(r)&&i(u)?o((function(n,r){return t(e,n,r)})):i(e)?c((function(n){return t(n,r,u)})):i(r)?c((function(n){return t(e,n,u)})):i(u)?c((function(n){return t(e,r,n)})):t(e,r,u)}}}var h=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function g(t,n,e){return function(){if(0===arguments.length)return e();var r=arguments[arguments.length-1];if(!h(r)){for(var u=0;u<t.length;){if("function"==typeof r[t[u]])return r[t[u]].apply(r,Array.prototype.slice.call(arguments,0,-1));u+=1}if(function(t){return null!=t&&"function"==typeof t["@@transducer/step"]}(r))return n.apply(null,Array.prototype.slice.call(arguments,0,-1))(r)}return e.apply(this,arguments)}}var d=function(){return this.xf["@@transducer/init"]()},v=function(t){return this.xf["@@transducer/result"](t)};function m(t){return"[object String]"===Object.prototype.toString.call(t)}var b=c((function(t){return!!h(t)||!!t&&("object"==typeof t&&(!m(t)&&(0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})),A=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,n){return this.f(t,n)},t}();var j=o((function(t,n){return f(t.length,(function(){return t.apply(n,arguments)}))}));function O(t,n,e){for(var r=e.next();!r.done;){if((n=t["@@transducer/step"](n,r.value))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r=e.next()}return t["@@transducer/result"](n)}function S(t,n,e,r){return t["@@transducer/result"](e[r](j(t["@@transducer/step"],t),n))}var w="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function _(t,n,e){if("function"==typeof t&&(t=function(t){return new A(t)}(t)),b(e))return function(t,n,e){for(var r=0,u=e.length;r<u;){if((n=t["@@transducer/step"](n,e[r]))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r+=1}return t["@@transducer/result"](n)}(t,n,e);if("function"==typeof e["fantasy-land/reduce"])return S(t,n,e,"fantasy-land/reduce");if(null!=e[w])return O(t,n,e[w]());if("function"==typeof e.next)return O(t,n,e);if("function"==typeof e.reduce)return S(t,n,e,"reduce");throw new TypeError("reduce: list must be array or iterable")}var N=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=d,t.prototype["@@transducer/result"]=v,t.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,this.f(n))},t}(),k=o((function(t,n){return new N(t,n)}));function x(t,n){return Object.prototype.hasOwnProperty.call(n,t)}var F=Object.prototype.toString,E=function(){return"[object Arguments]"===F.call(arguments)?function(t){return"[object Arguments]"===F.call(t)}:function(t){return x("callee",t)}}(),q=!{toString:null}.propertyIsEnumerable("toString"),I=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],P=function(){return arguments.propertyIsEnumerable("length")}(),U=function(t,n){for(var e=0;e<t.length;){if(t[e]===n)return!0;e+=1}return!1},$="function"!=typeof Object.keys||P?c((function(t){if(Object(t)!==t)return[];var n,e,r=[],u=P&&E(t);for(n in t)!x(n,t)||u&&"length"===n||(r[r.length]=n);if(q)for(e=I.length-1;e>=0;)x(n=I[e],t)&&!U(r,n)&&(r[r.length]=n),e-=1;return r})):c((function(t){return Object(t)!==t?[]:Object.keys(t)})),V=o(g(["fantasy-land/map","map"],k,(function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return p(n.length,(function(){return t.call(this,n.apply(this,arguments))}));case"[object Object]":return _((function(e,r){return e[r]=t(n[r]),e}),{},$(n));default:return function(t,n){for(var e=0,r=n.length,u=Array(r);e<r;)u[e]=t(n[e]),e+=1;return u}(t,n)}}))),B=Number.isInteger||function(t){return t<<0===t},z=o((function(t,n){var e=t<0?n.length+t:t;return m(n)?n.charAt(e):n[e]})),C=o((function(t,n){if(null!=n)return B(t)?z(t,n):n[t]})),T=y(_),D=o((function(t,n){return t&&n})),R=o((function(t,n){return"function"==typeof n["fantasy-land/ap"]?n["fantasy-land/ap"](t):"function"==typeof t.ap?t.ap(n):"function"==typeof t?function(e){return t(e)(n(e))}:_((function(t,e){return s(t,V(e,n))}),[],t)}));var H=c((function(t){return null==t})),J=y((function t(n,e,r){if(0===n.length)return e;var u=n[0];if(n.length>1){var a=!H(r)&&x(u,r)?r[u]:B(n[1])?[]:{};e=t(Array.prototype.slice.call(n,1),e,a)}return function(t,n,e){if(B(t)&&h(e)){var r=[].concat(e);return r[t]=n,r}var u={};for(var a in e)u[a]=e[a];return u[t]=n,u}(u,e,r)}));function Z(t){var n=Object.prototype.toString.call(t);return"[object Function]"===n||"[object AsyncFunction]"===n||"[object GeneratorFunction]"===n||"[object AsyncGeneratorFunction]"===n}var L=o((function(t,n){var e=p(t,n);return p(t,(function(){return _(R,V(e,arguments[0]),Array.prototype.slice.call(arguments,1))}))})),G=c((function(t){return L(t.length,t)})),K=o((function(t,n){return Z(t)?function(){return t.apply(this,arguments)&&n.apply(this,arguments)}:G(D)(t,n)}));var M=c((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));function W(t,n,e,r){var u,a=function(u){for(var a=n.length,i=0;i<a;){if(t===n[i])return e[i];i+=1}for(var c in n[i]=t,e[i]=u,t)t.hasOwnProperty(c)&&(u[c]=r?W(t[c],n,e,!0):t[c]);return u};switch(M(t)){case"Object":return a(Object.create(Object.getPrototypeOf(t)));case"Array":return a([]);case"Date":return new Date(t.valueOf());case"RegExp":return u=t,new RegExp(u.source,(u.global?"g":"")+(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.sticky?"y":"")+(u.unicode?"u":""));case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return t.slice();default:return t}}var X=c((function(t){return null!=t&&"function"==typeof t.clone?t.clone():W(t,[],[],!0)}));function Q(t,n){return function(){return n.call(this,t.apply(this,arguments))}}function Y(t,n){return function(){var e=arguments.length;if(0===e)return n();var r=arguments[e-1];return h(r)||"function"!=typeof r[t]?n.apply(this,arguments):r[t].apply(r,Array.prototype.slice.call(arguments,0,e-1))}}var tt=c(Y("tail",y(Y("slice",(function(t,n,e){return Array.prototype.slice.call(e,t,n)})))(1,1/0)));function nt(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return f(arguments[0].length,T(Q,arguments[0],tt(arguments)))}var et=c((function(t){return m(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()}));function rt(){if(0===arguments.length)throw new Error("compose requires at least one argument");return nt.apply(this,et(arguments))}var ut=z(0);function at(t){return t}var it=c(at);function ct(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}function ot(t,n,e){for(var r=0,u=e.length;r<u;){if(t(n,e[r]))return!0;r+=1}return!1}var st="function"==typeof Object.is?Object.is:function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n};function ft(t,n,e,r){var u=ct(t);function a(t,n){return lt(t,n,e.slice(),r.slice())}return!ot((function(t,n){return!ot(a,n,t)}),ct(n),u)}function lt(t,n,e,r){if(st(t,n))return!0;var u,a,i=M(t);if(i!==M(n))return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof n["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](n)&&"function"==typeof n["fantasy-land/equals"]&&n["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof n.equals)return"function"==typeof t.equals&&t.equals(n)&&"function"==typeof n.equals&&n.equals(t);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===(u=t.constructor,null==(a=String(u).match(/^function (\w*)/))?"":a[1]))return t===n;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof n||!st(t.valueOf(),n.valueOf()))return!1;break;case"Date":if(!st(t.valueOf(),n.valueOf()))return!1;break;case"Error":return t.name===n.name&&t.message===n.message;case"RegExp":if(t.source!==n.source||t.global!==n.global||t.ignoreCase!==n.ignoreCase||t.multiline!==n.multiline||t.sticky!==n.sticky||t.unicode!==n.unicode)return!1}for(var c=e.length-1;c>=0;){if(e[c]===t)return r[c]===n;c-=1}switch(i){case"Map":return t.size===n.size&&ft(t.entries(),n.entries(),e.concat([t]),r.concat([n]));case"Set":return t.size===n.size&&ft(t.values(),n.values(),e.concat([t]),r.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var o=$(t);if(o.length!==$(n).length)return!1;var s=e.concat([t]),f=r.concat([n]);for(c=o.length-1;c>=0;){var l=o[c];if(!x(l,n)||!lt(n[l],t[l],s,f))return!1;c-=1}return!0}var pt=o((function(t,n){return lt(t,n,[],[])}));function yt(t,n){return function(t,n,e){var r,u;if("function"==typeof t.indexOf)switch(typeof n){case"number":if(0===n){for(r=1/n;e<t.length;){if(0===(u=t[e])&&1/u===r)return e;e+=1}return-1}if(n!=n){for(;e<t.length;){if("number"==typeof(u=t[e])&&u!=u)return e;e+=1}return-1}return t.indexOf(n,e);case"string":case"boolean":case"function":case"undefined":return t.indexOf(n,e);case"object":if(null===n)return t.indexOf(n,e)}for(;e<t.length;){if(pt(t[e],n))return e;e+=1}return-1}(n,t,0)>=0}function ht(t){return"[object Object]"===Object.prototype.toString.call(t)}var gt=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=d,t.prototype["@@transducer/result"]=v,t.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.xf["@@transducer/step"](t,n):t},t}(),dt=o(g(["fantasy-land/filter","filter"],o((function(t,n){return new gt(t,n)})),(function(t,n){return ht(n)?_((function(e,r){return t(n[r])&&(e[r]=n[r]),e}),{},$(n)):function(t,n){for(var e=0,r=n.length,u=[];e<r;)t(n[e])&&(u[u.length]=n[e]),e+=1;return u}(t,n)}))),vt=o((function(t,n){return dt((e=t,function(){return!e.apply(this,arguments)}),n);var e})),mt=o((function(t,n){return null==n||n!=n?t:n})),bt=function(){function t(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return t.prototype.add=function(t){return!At(t,!0,this)},t.prototype.has=function(t){return At(t,!1,this)},t}();function At(t,n,e){var r,u=typeof t;switch(u){case"string":case"number":return 0===t&&1/t==-1/0?!!e._items["-0"]||(n&&(e._items["-0"]=!0),!1):null!==e._nativeSet?n?(r=e._nativeSet.size,e._nativeSet.add(t),e._nativeSet.size===r):e._nativeSet.has(t):u in e._items?t in e._items[u]||(n&&(e._items[u][t]=!0),!1):(n&&(e._items[u]={},e._items[u][t]=!0),!1);case"boolean":if(u in e._items){var a=t?1:0;return!!e._items[u][a]||(n&&(e._items[u][a]=!0),!1)}return n&&(e._items[u]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==e._nativeSet?n?(r=e._nativeSet.size,e._nativeSet.add(t),e._nativeSet.size===r):e._nativeSet.has(t):u in e._items?!!yt(t,e._items[u])||(n&&e._items[u].push(t),!1):(n&&(e._items[u]=[t]),!1);case"undefined":return!!e._items[u]||(n&&(e._items[u]=!0),!1);case"object":if(null===t)return!!e._items.null||(n&&(e._items.null=!0),!1);default:return(u=Object.prototype.toString.call(t))in e._items?!!yt(t,e._items[u])||(n&&e._items[u].push(t),!1):(n&&(e._items[u]=[t]),!1)}}var jt=o((function(t,n){return t||n})),Ot=o((function(t,n){return Z(t)?function(){return t.apply(this,arguments)||n.apply(this,arguments)}:G(jt)(t,n)}));var St=c((function(t){return null!=t&&"function"==typeof t["fantasy-land/empty"]?t["fantasy-land/empty"]():null!=t&&null!=t.constructor&&"function"==typeof t.constructor["fantasy-land/empty"]?t.constructor["fantasy-land/empty"]():null!=t&&"function"==typeof t.empty?t.empty():null!=t&&null!=t.constructor&&"function"==typeof t.constructor.empty?t.constructor.empty():h(t)?[]:m(t)?"":ht(t)?{}:E(t)?function(){return arguments}():function(t){var n=Object.prototype.toString.call(t);return"[object Uint8ClampedArray]"===n||"[object Int8Array]"===n||"[object Uint8Array]"===n||"[object Int16Array]"===n||"[object Uint16Array]"===n||"[object Int32Array]"===n||"[object Uint32Array]"===n||"[object Float32Array]"===n||"[object Float64Array]"===n||"[object BigInt64Array]"===n||"[object BigUint64Array]"===n}(t)?t.constructor.from(""):void 0})),wt=o(Y("forEach",(function(t,n){for(var e=n.length,r=0;r<e;)t(n[r]),r+=1;return n}))),_t=o((function(t,n){return t>n})),Nt=function(){function t(t,n){this.xf=n,this.f=t,this.set=new bt}return t.prototype["@@transducer/init"]=d,t.prototype["@@transducer/result"]=v,t.prototype["@@transducer/step"]=function(t,n){return this.set.add(this.f(n))?this.xf["@@transducer/step"](t,n):t},t}(),kt=o(g([],o((function(t,n){return new Nt(t,n)})),(function(t,n){for(var e,r,u=new bt,a=[],i=0;i<n.length;)e=t(r=n[i]),u.add(e)&&a.push(r),i+=1;return a})))(it),xt=c((function(t){return null!=t&&pt(t,St(t))}));var Ft=c((function(t){return null!=t&&(n=t.length,"[object Number]"===Object.prototype.toString.call(n))?t.length:NaN;var n})),Et=o((function(t,n){return t.map((function(t){for(var e,r=n,u=0;u<t.length;){if(null==r)return;e=t[u],r=B(e)?z(e,r):r[e],u+=1}return r}))})),qt=o((function(t,n){return Et([t],n)[0]})),It=o((function(t,n){return t<n})),Pt=y((function(t,n,e){var r,u={};for(r in n)x(r,n)&&(u[r]=x(r,e)?t(r,n[r],e[r]):n[r]);for(r in e)x(r,e)&&!x(r,u)&&(u[r]=e[r]);return u})),Ut=y((function t(n,e,r){return Pt((function(e,r,u){return ht(r)&&ht(u)?t(n,r,u):n(e,r,u)}),e,r)})),$t=o((function(t,n){return Ut((function(t,n,e){return e}),t,n)})),Vt=y((function(t,n,e){return mt(t,qt(n,e))})),Bt=o((function(t,n){return s([t],n)})),zt=y((function(t,n,e){return pt(n,C(t,e))})),Ct=y((function(t,n,e){return mt(t,C(n,e))}));const Tt=rt(Ot(H,xt)),Dt=(e={})=>{const[,u]=t(0),{initialEventName:a="onChange",initialValueName:i="value",initialValueKey:c="detail"}=e,o=r({}),s=r({}),f=r([]),l=r({}),p=r([]),y=n((t=>Tt(t)?[]:t instanceof Array?t:String(t).includes(".")?String(t).split("."):[t]),[]),h=n((t=>y(t).join(".")),[y]),g=n(((t,n)=>Tt(n)?isNaN(Number(y(t)[0]))?{}:[]:n),[y]),d=n((t=>qt(y(t),s.current)),[y]),v=n((()=>s.current),[]),m=n(((t,n)=>{const e=g(t,s.current);s.current=J(y(t),n,e),u((new Date).getTime())}),[y,g]),b=n((t=>{s.current=$t(s.current,t),u((new Date).getTime())}),[]),A=n((()=>{s.current=X(o.current),u((new Date).getTime())}),[]),j=n((t=>Vt([],y(t),l.current)),[y]),O=n(((t,n)=>{l.current=J(y(t),n,l.current)}),[y]),S=n((()=>f.current),[]),w=n((t=>{f.current.push(h(t))}),[h]),_=n((()=>p.current),[]),N=n((t=>rt(Ct("","message"),ut,dt(zt("key",h(t))))(p.current)),[h]),k=n(((t,n,e)=>{const r=h(t);p.current=rt(kt,Bt({key:r,type:n,message:e}))(p.current)}),[h]),x=n(((t,n)=>{const e=h(t);p.current=vt(K(zt("key",e),zt("type",n)),p.current)}),[h]),F=n(((t,n)=>{const e=j(t);Tt(e)||wt((e=>{const r=C("type",e),u=C("message",e);switch(r){case"required":Tt(n)?k(t,r,mt("该字段为必填项",u)):x(t,r);break;case"lt":!Tt(n)&&Number(n)<Number(e.value)?k(t,r,mt(`该字段不能大于${e.value}`,u)):x(t,r);break;case"lte":!Tt(n)&&Number(n)<=Number(e.value)?k(t,r,mt(`该字段不能大于等于${e.value}`,u)):x(t,r);break;case"gt":!Tt(n)&&Number(n)>Number(e.value)?k(t,r,mt(`该字段不能小于${e.value}`,u)):x(t,r);break;case"gte":!Tt(n)&&Number(n)>=Number(e.value)?k(t,r,mt(`该字段不能小于等于${e.value}`,u)):x(t,r);break;case"minLength":!Tt(n)&&It(Ft(String(n)),Number(e.value))?k(t,r,mt(`该字段不能小于${e.value}位`,u)):x(t,r);break;case"maxLength":!Tt(n)&&_t(Ft(String(n)),Number(e.value))?k(t,r,mt(`该字段不能大于${e.value}位`,u)):x(t,r);break;case"integer":Tt(n)||/^(-?\d*)$/.test(String(n))?x(t,r):k(t,r,mt("该字段为整数",u));break;case"decimals":Tt(n)||/^(-?\d*)([.]?\d{1,2})?$/.test(String(n))?x(t,r):k(t,r,mt("该字段为整数或小数(保留小数点后两位)",u));break;case"phone":Tt(n)||/^[01]\d{10}$/.test(String(n))?x(t,r):k(t,r,mt("电话号码不正确",u));break;case"vin":Tt(n)||/^[A-HJ-NPR-Z\d]{17}$/.test(String(n))?x(t,r):k(t,r,mt("车架号码不正确",u));break;case"licensePlate":Tt(n)||/^[京津沪渝冀晋辽吉黑苏浙皖川闽赣鲁豫鄂湘粤琼黔滇陕甘青台蒙桂藏宁新领使临][A-HJ-NP-Z][A-HJ-NP-Z0-9]{4,5}[A-HJ-NP-Z0-9挂学警港澳]$/.test(String(n))?x(t,r):k(t,r,mt("车牌号码不正确",u));break;case"pattern":Tt(n)||void 0===e.pattern||e.pattern.test(String(n))?x(t,r):k(t,r,mt("验证不通过",u));break;case"trim":Tt(null==n?void 0:n.trim())?k(t,r,mt("字段不能为空格",u)):x(t,r)}}),e)}),[j,x,k]),E=n((()=>{V((t=>{F(t,d(t))}),S())}),[S,d,F]),q=n((()=>(E(),new Promise(((t,n)=>{const e=_();Tt(e)?t(v()):n(e)})))),[_,v,E]);return{validate:q,registerField:n(((t,n={})=>{const{eventName:e=a,valueName:r=i,valueKey:u=c,initialValue:f,placeholder:l,rules:p=[],interceptChange:h,interceptValue:g}=n,v=mt(null,f);void 0===d(t)&&(w(t),O(t,p),m(t,v),o.current=$t(mt({},o.current),J(y(t),v)));return{[r]:mt(l,d(t)),[e]:n=>{if(!("function"!=typeof h||h(s.current)))return;const e=Tt(y(u))?n:qt(y(u),n),r="function"==typeof g?g(e):e;"onBlur"!==a&&F(t,r),m(t,r)}}}),[y,d,a,c,i,w,O,m,F]),getFieldValue:d,getFieldsValue:v,setFieldValue:m,setFieldsValue:b,getFieldError:N,resetFields:A}},Rt=t=>{const n=r();return e((()=>{n.current=t})),n.current},Ht=n=>{const e=r(null),[u,a]=t(n);return e.current=t=>new Promise((n=>{a(t),n("function"==typeof t?t(u):t)})),[u,e.current]},Jt=(t={})=>{const{initialState:e=!1,initialValue:r,beforeOn:u=(()=>!0),beforeOff:a=(()=>!0),afterOn:i=(()=>{}),afterOff:c=(()=>{})}=t,[o,s]=Ht(e),[f,l]=Ht(r),p=n((()=>{u()&&s(!0).then(i)}),[i,u,s]),y=n((t=>{pt(t,r)?p():l(mt(r,t)).then(p)}),[p,r,l]),h=n((()=>{a()&&s(!1).then((()=>{l(void 0).then(c)}))}),[c,a,l,s]),g=n((t=>{o?h():y(t)}),[o,y,h]);return{state:o,value:f,handleOn:y,handleOff:h,handleToggle:g}};export{u as useBoolean,a as useDebounce,Dt as useForm,Rt as usePrevious,Ht as useStatePromise,Jt as useToggle};
//# sourceMappingURL=index.esm.js.map
